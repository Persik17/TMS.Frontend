<div class="profile-settings-card">
  <h2>ะัะพัะธะปั ะฟะพะปัะทะพะฒะฐัะตะปั</h2>
  <nav class="settings-tabs">
    <button [class.active]="tab === 'info'" (click)="tab = 'info'">
      <span class="tab-icon">๐ค</span> ะัะฝะพะฒะฝะพะต
    </button>
    <button [class.active]="tab === 'system'" (click)="tab = 'system'">
      <span class="tab-icon">๐ฅ๏ธ</span> ะกะธััะตะผะฝัะต
    </button>
    <button [class.active]="tab === 'notif'" (click)="tab = 'notif'">
      <span class="tab-icon">๐</span> ะะฟะพะฒะตัะตะฝะธั
    </button>
    <button [class.active]="tab === 'security'" (click)="tab = 'security'">
      <span class="tab-icon">๐</span> ะะตะทะพะฟะฐัะฝะพััั
    </button>
  </nav>

  <app-profile-info-tab
    *ngIf="tab === 'info'"
    [user]="user"
    (saveProfile)="saveProfile()"
  ></app-profile-info-tab>

  <app-profile-system-tab
    *ngIf="tab === 'system'"
    [systemSettings]="systemSettings"
    [bgModalOpen]="bgModalOpen"
    [bgTemplates]="bgTemplates"
    [bgColors]="bgColors"
    (openBgModal)="openBgModal()"
    (closeBgModal)="closeBgModal()"
    (selectTemplateBg)="selectTemplateBg($event)"
    (selectColorBg)="selectColorBg($event)"
    (boardBgUpload)="onBoardBgUpload($event)"
  ></app-profile-system-tab>

  <app-profile-notif-tab
    *ngIf="tab === 'notif' && user.notificationSettings"
    [userNotif]="user.notificationSettings"
    [originalNotif]="originalNotif"
    (saveNotificationSettings)="saveNotificationSettings()"
  ></app-profile-notif-tab>

  <app-profile-security-tab
    *ngIf="tab === 'security'"
    [newEmail]="newEmail"
    [newPassword]="newPassword"
    [repeatPassword]="repeatPassword"
    [smsRequired]="smsRequired"
    [smsCode]="smsCode"
    (newEmailChange)="newEmail = $event"
    (newPasswordChange)="newPassword = $event"
    (repeatPasswordChange)="repeatPassword = $event"
    (smsCodeChange)="smsCode = $event"
    (changeEmail)="changeEmail()"
    (changePassword)="changePassword()"
    (confirmSmsCode)="confirmSmsCode()"
  ></app-profile-security-tab>
</div>
