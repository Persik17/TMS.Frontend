<div class="profile-settings-card">
  <h2>–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h2>
  <nav class="settings-tabs">
    <button [class.active]="tab === 'info'" (click)="tab = 'info'">
      <span class="tab-icon">üë§</span> –û—Å–Ω–æ–≤–Ω–æ–µ
    </button>
    <button [class.active]="tab === 'system'" (click)="tab = 'system'">
      <span class="tab-icon">üñ•Ô∏è</span> –°–∏—Å—Ç–µ–º–Ω—ã–µ
    </button>
  </nav>

  <app-profile-info-tab
    *ngIf="tab === 'info' && user"
    [user]="user"
    (saveProfile)="saveProfile()"
  ></app-profile-info-tab>

  <app-profile-system-tab
    *ngIf="tab === 'system' && systemSettings"
    [systemSettings]="systemSettings"
    [bgModalOpen]="bgModalOpen"
    (openBgModal)="openBgModal()"
    (closeBgModal)="closeBgModal()"
    (selectTemplateBg)="selectTemplateBg($event)"
    (saveSystemSettings)="onSaveSystemSettings($event)"
  ></app-profile-system-tab>

  <app-profile-security-tab
    *ngIf="tab === 'security'"
    [newEmail]="newEmail"
    [newPassword]="newPassword"
    [repeatPassword]="repeatPassword"
    [smsRequired]="smsRequired"
    [smsCode]="smsCode"
    (newEmailChange)="newEmail = $event"
    (newPasswordChange)="newPassword = $event"
    (repeatPasswordChange)="repeatPassword = $event"
    (smsCodeChange)="smsCode = $event"
    (changeEmail)="changeEmail()"
    (changePassword)="changePassword()"
    (confirmSmsCode)="confirmSmsCode()"
  ></app-profile-security-tab>
</div>
