<div class="dashboard-settings">
  <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–∞—à–±–æ—Ä–¥–∞</h2>
  <nav class="tabs">
    <button [class.active]="tab === 'info'" (click)="tab = 'info'">
      <span class="tab-icon">‚ÑπÔ∏è</span> –û–±—â–∏–µ —Å–≤–µ–¥–µ–Ω–∏—è
    </button>
    <button [class.active]="tab === 'users'" (click)="tab = 'users'">
      <span class="tab-icon">üë•</span> –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
    </button>
  </nav>
  <section *ngIf="tab === 'info'" class="section">
    <h3>–û–±—â–∏–µ —Å–≤–µ–¥–µ–Ω–∏—è –ø–æ –¥–æ—Å–∫–µ</h3>
    <div class="fields-grid">
      <div class="field">
        <label>–ù–∞–∑–≤–∞–Ω–∏–µ:</label>
        <span>{{ board.name }}</span>
      </div>
      <div class="field">
        <label>–û–ø–∏—Å–∞–Ω–∏–µ:</label>
        <span>{{ board.description }}</span>
      </div>
      <div class="field">
        <label>–û—Ç–¥–µ–ª:</label>
        <span>{{ board.department }}</span>
      </div>
      <div class="field">
        <label>–¢–∏–ø –¥–æ—Å–∫–∏:</label>
        <span>{{ board.boardType }}</span>
      </div>
      <div class="field">
        <label>–ü—Ä–∏–≤–∞—Ç–Ω–∞—è:</label>
        <span>{{ board.isPrivate ? "–î–∞" : "–ù–µ—Ç" }}</span>
      </div>
    </div>
  </section>
  <section *ngIf="tab === 'users'" class="section users-section">
    <h3>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h3>
    <div class="users-header">
      <button class="add-user-btn" (click)="addUser()">
        <span>+ –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</span>
      </button>
    </div>
    <div class="users-list">
      <div class="user-row" *ngFor="let user of users">
        <div class="user-info">
          <div class="user-avatar">
            {{ user.name[0] }}
          </div>
          <div>
            <div class="user-name">{{ user.name }}</div>
            <div class="user-email">{{ user.email }}</div>
          </div>
        </div>
        <div class="user-role">
          <ng-container *ngIf="editingUser !== user; else roleEdit">
            {{ user.role }}
            <button
              class="edit-role-btn"
              (click)="startEditRole(user)"
              title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–æ–ª—å"
            >
              ‚úé
            </button>
          </ng-container>
          <ng-template #roleEdit>
            <select
              class="role-select"
              [(ngModel)]="user.role"
              (change)="saveRoleEdit()"
            >
              <option value="–†–µ–¥–∞–∫—Ç–æ—Ä">–†–µ–¥–∞–∫—Ç–æ—Ä</option>
              <option value="–ü—Ä–æ—Å–º–æ—Ç—Ä">–ü—Ä–æ—Å–º–æ—Ç—Ä</option>
              <option value="–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</option>
            </select>
            <button
              class="save-role-btn"
              (click)="saveRoleEdit()"
              title="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"
            >
              ‚úî
            </button>
            <button
              class="cancel-role-btn"
              (click)="cancelRoleEdit()"
              title="–û—Ç–º–µ–Ω–∞"
            >
              ‚úñ
            </button>
          </ng-template>
        </div>
        <button
          class="remove-user-btn"
          (click)="removeUser(user)"
          title="–£–¥–∞–ª–∏—Ç—å"
        >
          ‚úï
        </button>
      </div>
      <div *ngIf="users.length === 0" class="empty-users">
        –ù–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
      </div>
    </div>
  </section>
</div>
